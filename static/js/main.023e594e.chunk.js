(this["webpackJsonpbul-bana"]=this["webpackJsonpbul-bana"]||[]).push([[0],{27:function(e,a,t){e.exports=t(40)},32:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(12),s=t.n(r),c=t(8),i=(t(32),function(e){return l.a.createElement("div",{className:"layout"},e.children)}),o=t(0),m=t(13),u=function(e){var a=e.searchYelp,t=(e.color,Object(n.useState)("")),r=Object(c.a)(t,2),s=r[0],i=r[1],u=Object(n.useState)(""),d=Object(c.a)(u,2),E=d[0],p=d[1];return l.a.createElement("div",{className:"search-bar"},l.a.createElement("div",{className:"search-bar__fields"},l.a.createElement("input",{className:"search-bar__input search-bar__input--business",value:s,placeholder:"Ne Ar\u0131yorsunuz?",onChange:function(e){return i(e.target.value)}}),l.a.createElement("input",{className:"search-bar__input",value:E,placeholder:"Nerede?",onChange:function(e){return p(e.target.value)}})),l.a.createElement("button",{className:"search-bar__submit",onClick:function(){""===s||""===E?alert("Arama yapmadan \xf6nce gerekli alanlar\u0131 doldurunuz."):a(s,E)}},l.a.createElement(o.b.Provider,{value:{color:"white",size:"1.5em"}},l.a.createElement("div",null,l.a.createElement(m.a,null)))))},d=function(e){return l.a.createElement("header",{className:"hero"},e.children)},E=t(9),p=t(14),b=t.n(p),h=function(e){var a=e.business;return l.a.createElement(E.b,{to:"details/".concat(a.id)},l.a.createElement("div",{className:"business"},l.a.createElement("div",{className:"business__image-container"},l.a.createElement("img",{src:a.imageSrc,alt:"\u0130\u015fletme G\xf6rseli"})),l.a.createElement("div",{className:"business__information"},l.a.createElement("p",{className:"business__header"},a.name),l.a.createElement("div",{className:"business__review"},l.a.createElement(b.a,{name:"rate2",editing:!1,starColor:"#0b8457",starCount:5,value:a.rating}),l.a.createElement("p",{className:"business__review-count"},a.reviewCount," Oylama")),l.a.createElement("p",null,a.category),l.a.createElement("div",{className:"business__address"},l.a.createElement("p",{className:"business__address-text"},a.address)))))},v=function(e){var a=e.businesses;return console.log(JSON.stringify(a,null,2)),0===a.length?l.a.createElement("div",{className:"business-list__pre-search"},l.a.createElement("h2",null,"Bul Bana!")):l.a.createElement("div",{className:"business-list__container"},l.a.createElement("h2",{className:"business-list__header"},"\u0130\u015fletmeler"),l.a.createElement("div",{className:"business-list"},a.map((function(e){return l.a.createElement(h,{business:e,key:e.id})}))))},_={search:function(e,a){return fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e,"&location=").concat(a,"&sort_by=best_match&locale=tr_TR"),{headers:{Authorization:"Bearer ".concat("APPZpV2jF3YP1nV1TTDFbXDVtKLBoEvOLKKWuCzjQ6P-Yefz0SinxapyxKyiiuxwGeTnfKBnLYE8aK0vRr3qno6HLOg7T98Qqb1twwcX68vtkdfSlaMsm1UBj7oCX3Yx")}}).then((function(e){return e.json()})).then((function(e){if(e.businesses)return e.businesses.map((function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,address:e.location.address1,city:e.location.city,state:e.location.state,zipCode:e.location.zip_code,category:e.categories[0].title,rating:e.rating,reviewCount:e.review_count}}))}))}},f=t(21),g=t.n(f),N=t(25),y=t(16),w=t(15),j=t(26),O=t(17),S={width:"100%",marginLeft:0,border:"1px solid #00a79d",borderRadius:"0.8em"},C={disableDefaultUI:!0,zoomControl:!0};var x=l.a.memo((function(e){var a=e.lat,t=e.lng;return l.a.createElement(O.b,{googleMapsApiKey:"AIzaSyB3kC8zp0qeMtpWQf6XUcl9j86qpiVSHIU"},l.a.createElement("div",{style:{height:350,width:"100%",display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:0}},l.a.createElement(O.a,{mapContainerStyle:S,center:{lat:a,lng:t},zoom:16,useStaticMap:!0,options:C},l.a.createElement(O.c,{position:{lat:a,lng:t}}),l.a.createElement(l.a.Fragment,null))))}));function z(e){e.searchYelp;var a=e.match;Object(n.useEffect)((function(){v()}),[]);var t=Object(n.useState)({}),r=Object(c.a)(t,2),s=r[0],i=r[1],u=Object(n.useState)(!0),d=Object(c.a)(u,2),p=d[0],h=d[1],v=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/".concat(a.params.id,"?locale=tr_TR"),{headers:{Authorization:"Bearer ".concat("APPZpV2jF3YP1nV1TTDFbXDVtKLBoEvOLKKWuCzjQ6P-Yefz0SinxapyxKyiiuxwGeTnfKBnLYE8aK0vRr3qno6HLOg7T98Qqb1twwcX68vtkdfSlaMsm1UBj7oCX3Yx")}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,i(n),h(!1),console.log(JSON.stringify(n,null,2));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p?l.a.createElement("div",{className:"details__loading"},"Y\xfckleniyor..."):l.a.createElement("div",{className:"details"},l.a.createElement("div",{className:"details__navbar"},l.a.createElement(E.b,{to:"/"},l.a.createElement("p",{className:"details__logo"},"Bul Bana!")),l.a.createElement(o.b.Provider,{value:{size:"1.5em"}},l.a.createElement("div",null,l.a.createElement(E.b,{to:"/"},l.a.createElement(w.a,null))))),l.a.createElement("div",{className:"details__photo-container"},s.image_url?l.a.createElement("img",{src:s.image_url,alt:"\u0130\u015fletme G\xf6rseli"}):l.a.createElement("p",null,"\u0130\u015fletme G\xf6rseli Bulunamad\u0131.")),l.a.createElement("div",{className:"details__business-info"},l.a.createElement("div",{className:"details__business-header"},l.a.createElement("h2",null,s.name)),l.a.createElement("div",{className:"details__info-container"},l.a.createElement("div",{className:"details__address"},l.a.createElement("p",null,l.a.createElement(y.a,null),l.a.createElement("span",null,"Adres:"),s.location.display_address)),l.a.createElement("div",{className:"details__rating"},l.a.createElement("p",null,l.a.createElement(y.b,null),l.a.createElement("span",null,"\u0130nceleme Say\u0131s\u0131:"),s.review_count),l.a.createElement("p",null,l.a.createElement(m.b,null),l.a.createElement("span",null,"Puan:"),l.a.createElement(b.a,{name:"rate2",editing:!1,starColor:"#0b8457",starCount:5,value:s.rating,className:"details__stars"}))),s.price?l.a.createElement("div",{className:"details__price"},l.a.createElement("p",null,l.a.createElement(w.b,null),l.a.createElement("span",null,"Fiyat:"),s.price)):null,s.display_phone?l.a.createElement("div",{className:"details__phone"},l.a.createElement("p",null,l.a.createElement(j.a,null),l.a.createElement("span",null,"Telefon:"),s.display_phone)):null,l.a.createElement("div",{className:"details__map"},l.a.createElement(x,{lat:s.coordinates.latitude,lng:s.coordinates.longitude})))))}var k=t(2);var B=function(){var e=Object(n.useState)([]),a=Object(c.a)(e,2),t=a[0],r=a[1],s=Object(n.useState)(!1),o=Object(c.a)(s,2),m=o[0],p=o[1];function b(e,a){p(!0),_.search(e,a).then((function(e){0===e.length&&alert("Arad\u0131\u011f\u0131n\u0131z kriterlere uygun i\u015fletme bulunamad\u0131."),r(e),p(!1)}))}return l.a.createElement(E.a,{basename:"".concat("/bul-bana","/")},l.a.createElement("div",null,l.a.createElement(k.c,null,l.a.createElement(k.a,{path:"/",exact:!0},l.a.createElement(d,null,l.a.createElement(u,{searchYelp:b,color:"red"})),m?l.a.createElement("div",{className:"business-list__loading"},l.a.createElement("h2",null,"Y\xfckleniyor...")):l.a.createElement(i,null,l.a.createElement(v,{businesses:t}))),l.a.createElement(k.a,{path:"/details/:id",render:function(e){return l.a.createElement(z,Object.assign({},e,{searchYelp:b}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.023e594e.chunk.js.map